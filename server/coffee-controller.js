coffeeSelection = [
    {
        name: "China Comac Estate", 
        flavor: "Forest floor aromas with notes of green herbs and chocolate and a malty-sweet finish.",
        location: "YUNNAN, CHINA",
        picUrl: 'https://westeurope-cdn.azureedge.net/coffee-media/CoffeeDetail_CoffeeCard_ChinaComacEstate_1100x1100.jpg',
        description: "Thousands of years of tea cultivation have laid a deep agricultural foundation in Pu-erh, Yunnan. Standing in compelling contrast to this is Comac Estate, an innovating coffee farm that embraces contemporary experimentation to capture the fullest expression of their beans. Techniques used around the world are prized here: semi-washed processing, which requires extensive training to master and is common in Indonesian coffees; African-style raised-bed drying for humidity control; and experimentation with varietals not often grown in the region. The payoff is a unique lot with comforting flavors of deep-green herbs and rich chocolate, culminating in a malty sweetness. It is the embodiment of an unabashedly new era of Yunnan coffee.",
        region: "Asia/Pacific",
        id: 0
    },
    {
        name: "Peru El Lirio", 
        flavor: "Aromatic florals with flavorful accents of toffee and cocoa.",
        location: "CAJAMARCA, PERU",
        picUrl: 'https://westeurope-cdn.azureedge.net/coffee-media/CoffeeDetail_CoffeeCard_PeruElLirio_1100x1100.jpg',
        description: "Home is where the heart is for Omar Banda. Born and raised in Peru, he left his hometown, studied agronomy and returned to invest in his beloved El Lirio. Establishing his farm as a showcase, Omar shared his knowledge, helped improve quality and productivity, and built partnerships and trust with a community of local smallholder farmers—cultivating respect in the Peruvian specialty coffee market. Harvested in high altitude with an abundance of flora, these beans can take days to transport from this remote place. El lirio means “lily” in Spanish, and this exquisite, aromatic coffee is an ode to beauty and returning home.",
        region: "Latin America/South America",
        id: 1
    },
    {
        name: "Ethiopia Bitta Farm", 
        flavor: "Perfumed jasmine aromas with ginger spice and orange peel accents",
        location: "KAFFA ZONE, ETHIOPIA",
        picUrl: 'https://westeurope-cdn.azureedge.net/coffee-media/CoffeeDetail_CoffeeCard_EthiopiaBittaFarm1100x1100.jpg',
        description: "In Ethiopia’s Kaffa region, arabica shrubs grow wild in a veritable coffee forest. Lore has it this is where, 1,000 years ago, curious goats gnawed the berries and experienced an energy boost. When a goatherd tried the berries for himself, coffee was discovered. Today Bitta Farm represents one of coffee’s most fabled locations. Reached by a two-day journey over deeply rutted, muddy mountain paths, its wild-grown coffee and direct connection to arabica’s lineage are quite literally the stuff of legend. Along with the distinct flavors highlighted in this small lot, you will experience something more. Each bean is a bit of history.",
        region: "Africa",
        id: 2
    },
    {
        name: "D.R. Congo Kawa Kabuya", 
        flavor: "Lovely scents of wild berry with lemon and black cherry flavors",
        location: "NORTH KIVU, D.R. CONGO",
        picUrl: 'https://westeurope-cdn.azureedge.net/coffee-media/CoffeeDetail_CoffeeCard_CongoKawaKabuya_1100x1100.jpg',
        description: "Against a postcard backdrop of snowcapped mountains and wild jungles, the Kawa Kabuya co-op produces coffees of exceptional quality. The Lubero and Beni districts of the eastern Democratic Republic of Congo border the Virunga National Park, an otherworldly spectacle of biological diversity populated with gorillas and chimpanzees. The same mountains that serve as home to these great apes provide superb climate for coffee cultivation—cool nighttime temperatures help the fruit mature slowly and evenly. Challenges presented by the rugged landscape and a lack of infrastructure are overcome by these passionate and knowledgeable co-op farmers who share the region’s unbelievable flavors with the rest of the world.",
        region: "Africa",
        id: 3
    },
    {
        name: "Rwanda Kanzu", 
        flavor: "Red currant and Asian pear flavors with a syrupy mouthfeel.",
        location: "NYAMASHEKE, RWANDA",
        picUrl: 'https://westeurope-cdn.azureedge.net/coffee-media/CoffeeDetail_CoffeeCard_RwandaKanzu_1100x1100.jpg',
        description: "From February through June, hundreds of smallholder coffee farmers bring their crops to Kanzu Washing Station. There, surrounded by the towering mountain peaks of the Crête Congo Nil, 50 local men and women work to transform cherries into specialty coffee. This award-winning wet mill uses traditional techniques, but it’s the people behind the processing who make the difference. Their precision, skill and consistency elevate coffee washing to an art, and their extraordinary offerings have become an important source of livelihood for the community. This sweet, layered lot captures the year’s best cherries, harvested at the very end of coffee season. As you’ll discover, they’re worth the wait.",
        region: "Africa",
        id: 4
    },
    {
        name: "Microblend No. 21", 
        flavor: "Candied citrus flavors enrobed in dark chocolate.",
        location: "GUATEMALA/KENYA",
        picUrl: 'https://westeurope-cdn.azureedge.net/coffee-media/CoffeeDetail_CoffeeCard_Microblend21_1100x1100.jpg',
        description: "Starbucks Reserve™ Microblend No. 21, named for nature’s golden ratio, was developed first and foremost as an espresso. But much to our delight, it not only stood up to other brew methods—it brought something new and dynamic to each of them. Guatemalan beans give the blend its rich, chocolaty base—a flavor we’ve come to know and love over the years. And by contrasting that character with a wildly complex Kenyan coffee, we’ve landed on a blend at once familiar and vibrant. Pulled as an espresso shot, it is stunning—the decadence and density of the Guatemalan beans mix beautifully with the savory, candied citrus notes of the Kenyan coffee. Perfect as a doppio, it pairs handsomely with steamed milk in your latte. Frankly, we love this blend unconditionally, a harmoniously balanced composition, good for all occasions.",
        region: "Latin America/South America",
        id: 5
    },
    {
        name: "Peru Chontali", 
        flavor: "Juicy acidity with red apple and candied lemon notes and a dusting of cocoa.",
        location: "CAJAMARCA , PERU",
        picUrl: 'https://westeurope-cdn.azureedge.net/coffee-media/CoffeeDetail_CoffeeCard_PeruChontali__1100x1100.jpg',
        description: "In the Chontalí district of Peru, local coffee experts are sharing their knowledge and offering technical support to a new generation of farmers. Together they’re improving the quality of the beans and building a strong tradition of excellence in the cup. Cradled in the remote, steep-walled Chunchuca Valley in Peru’s Northern Highlands—where this coffee flourishes under ideal growing conditions—Chontalí’s rugged terrain and infrastructure can be a challenge to maneuver, often making it difficult to deliver coffee to processing mills. The collaboration and hard work of these dedicated farmers truly shine—every sip astounds with a distinct lemon-lime acidity. We’re proud to be offering this coffee for the third year in a row.",
        region: "Latin America/South America",
        id: 6
    },
    {
        name: "Microblend No. 11", 
        flavor: "Dense with jammy berry notes and a rich mouthfeel.",
        location: "ETHIPOIA/GUATEMALA",
        picUrl: 'https://westeurope-cdn.azureedge.net/coffee-media/CoffeeDetail_CoffeeCard_Microblend11_1100x1100.jpg',
        description: "Our quest to perfect this blend was a tireless one; not until the 11th attempt did we unanimously agree that we had landed it. The winning recipe fuses coffees from two origins—Ethiopia and Guatemala—and excels as cold brew while bringing something revelatory to any brew format. The Guatemalan beans serve as a refined foundation while the sun-dried Ethiopian coffee punctuates it with wild, jammy berry notes. Soft citrus aromas mingle with rich, dark chocolate body and flavor in this sweet, remarkably versatile coffee.",
        region: "Africa",
        id: 7
    },
    {
        name: "Honduras Cafico", 
        flavor: "Floral aromas with bright, juicy red currant and a brown-sugar sweetness.",
        location: "CORQUÍN, HONDURAS",
        picUrl: 'https://westeurope-cdn.azureedge.net/coffee-media/CoffeeDetail_CoffeeCard_HondurasCafico_1100x1100.jpg',
        description: "Ten years ago, 35 farmers in the Corquín region of Honduras formed a collective. Their goal: to put their country on the specialty coffee map. Today, CAFICO (Café Finos Corquín) has more than 750 members proudly dedicated to exporting extraordinary coffees. With a cupping lab and multiple technicians in place to oversee certifications and quality control, both the coffees and the lives of those who grow them continue to improve. Their efforts are captured in this sweet, lively cup, exemplifying the bright future of Honduran coffee.",
        region: "Latin America/South America",
        id: 8
    },
    {
        name: "Hawaii Ka'u", 
        flavor: "Creamy milk chocolate flavor with an almond sweetness.",
        location: "BIG ISLAND, HAWAII",
        picUrl: 'https://westeurope-cdn.azureedge.net/coffee-media/CoffeeDetail_CoffeeCard_HawaiiKau_1100x1100.jpg',
        description: "The south side of the Big Island is home to the remote district of Ka`u. After the last sugar plantation closed in 1996, farmers looked to coffee as a new source of livelihood. Despite ideal growing conditions, they initially struggled to step out of the shadow of their well-established neighbor, Kona. The tide shifted in 2007 when two Ka`u coffees placed in the top ten at a global cupping competition. Inspired by the results, local advocate Chris Manfredi hired agronomists and consultants to help small-scale farms succeed. Eleven years and many more awards later, Hawaii Ka`u is a coveted micro-origin with a thriving coffee community.",
        region: "Asia/Pacific",
        id: 9
    },
 
]

let id = 11;

module.exports = {
    getCoffee: (req, res) => {
        res.status(200).json(coffeeSelection)
    },

    createCoffee: (req, res) => {
        console.log(req.body);
        
        id++;
        const {name, flavor, location, picUrl, description} = req.body;
        const newCoffee = {name, flavor, location, picUrl, description, id: id};
        coffeeSelection.push(newCoffee);
        res.status(200).json(coffeeSelection);
    },

    deleteCoffee: (req, res) => {
        const coffeeId = req.params.id;
        const deleteCoffee = coffeeSelection.findIndex(item => {
            return item.id === parseInt(coffeeId)
        });
        if (deleteCoffee === -1) {
            res.status(404).send(`Error, Reserve Coffee ${coffeeId} is not found`)
        } else {
            coffeeSelection.splice(deleteCoffee, 1);
            res.status(200).json(coffeeSelection);
        }
    },

    updateCoffee: (req, res) => {
        const coffeeId = req.params.id;
        const updateCoffee = coffeeSelection.findIndex(item => {
            return item.id === parseInt(coffeeId)
        });
        if (updateCoffee === -1) {
            res.status(404).send(`Error, Reserve Coffee ${coffeeId} is not found`)
        } else {
            coffeeSelection[updateCoffee].flavor = req.body.flavor;
            res.status(200).json(coffeeSelection);
        }

    }


}